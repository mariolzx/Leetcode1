public class MovingAverage {
    private Deque<Integer> dequeue=new LinkedList<>();
    private int size;
    private long sum;

    public MovingAverage(int size){
        this.size=size;
    }

    public double next(int val){
        if(dequeue.size()==size)
            sum-=dequeue.removeFirst();
        dequeue.addLast(val);
        sum+=val;
        return (double)sum/dequeue.size();
    }
}
